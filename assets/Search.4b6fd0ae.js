import{_ as e,u as a}from"./index.e2668ecf.js";import{r as l,w as t,i as o,f as s,o as r,c as n,b as c,j as u,z as v,l as d,s as i}from"./vendor.f01c9790.js";const h={key:0,class:"content-box"},p={class:"search-box"},m={key:0,class:"content"};var f=e({setup(e){const{proxy:f}=i(),g=a(),_=l({state:"open",page:1,per_page:"all"});let b=l(),x=l([]);const y=l();let C=l();t((()=>y.value),(e=>{e&&(clearTimeout(C.value),C.value=setTimeout((()=>{k()}),500))})),f.$blogApi.resolve("getArticle",_.value).then((e=>{(null==e?void 0:e.length)&&(e.forEach((e=>{e.created_at=f.$format(e.created_at,"zh_CN").replace(/\s/,"");const a=Math.floor(Math.random()*g.themeColors.length);e.color=g.themeColors[a]})),b.value=e)}));const k=()=>{y.value?async function(e){x.value=[],b.value.forEach((a=>{-1!==a.title.indexOf(e)&&x.value.push(a)})),x.value.length||f.$toast("没有搜索到相关内容")}(y.value):f.$toast("请输入搜索内容")},$=()=>x.value=[];return(e,a)=>{const l=o("van-search"),t=o("CompList"),i=o("Loading");return s(b)?(r(),n("div",h,[c("div",p,[u(l,{class:"search",modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),placeholder:"请输入搜索内容",shape:"round",background:"rgba(255, 255, 255, 0)","clear-trigger":"always",onSearch:k,onClear:$},null,8,["modelValue"])]),s(x).length?(r(),n("div",m,[u(t,{list:s(x)},null,8,["list"])])):v("",!0)])):(r(),d(i,{key:1}))}}},[["__scopeId","data-v-257f9c2e"]]);export{f as default};
