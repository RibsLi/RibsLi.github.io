import{_ as e,u as t,a,r,o as s,c as l,b as o,w as c,v as d,d as n,e as u,g as i}from"./index.3e609359.js";const f={class:"relative w-full h-full"},p={class:"w-50% max-w-500 min-w-300 h-300 p-15 absolute top-50% left-50% transform -translate-x-1/2 -translate-y-1/2 bg-white/10 rounded-5 backdrop-blur-1 select-none flex flex-col justify-around items-center border border-#f5f5f5"},x={class:"relative w-full"},b={class:"relative w-full"};var m=e({__name:"index",setup(e){const m=t(),h=a(),{proxy:w}=i(),v=r({username:"",password:"",client_id:"23fb3017d7d26ef265a38e77d828a696bc9f2e04c14eecc2936f9e1916e6c9d5",client_secret:"c514c08a08f1c67c0b289781ec39db539ff40baf7c923a7121d11a2a56b47665",scope:"issues",grant_type:"password"}),y=()=>{if(!v.username)return w.$toast("请输入账号");if(!v.password)return w.$toast("请输入密码");try{u.post("https://gitee.com/oauth/token",v).then((e=>{const{access_token:t=""}=(null==e?void 0:e.data)||{};t&&(localStorage.setItem("access_token",t),h.setAccessToken(t),m.replace("/home"))})).catch((()=>w.$toast("登录失败")))}catch(e){}};return(e,t)=>(s(),l("div",f,[t[4]||(t[4]=o("div",{class:"w-full h-100vh select-none backdrop-blur"},null,-1)),o("div",p,[o("div",x,[c(o("input",{class:"border border-#f5f5f5 border-solid rounded-5 w-full h-50 lh-50 text-lg px-45 cursor text-primary focus:border-primary","onUpdate:modelValue":t[0]||(t[0]=e=>n(v).username=e),required:"",type:"text",placeholder:"账号",maxlength:"17"},null,512),[[d,n(v).username]]),t[2]||(t[2]=o("i",{class:"fa fa-user-circle-o absolute top-50% left-15 -translate-y-1/2 text-primary text-xl"},null,-1))]),o("div",b,[c(o("input",{class:"border border-#f5f5f5 border-solid rounded-5 w-full h-50 lh-50 text-lg px-45 cursor text-primary focus:border-primary","onUpdate:modelValue":t[1]||(t[1]=e=>n(v).password=e),required:"",type:"password",placeholder:"密码",maxlength:"17"},null,512),[[d,n(v).password]]),t[3]||(t[3]=o("i",{class:"fa fa-lock absolute top-50% left-15 -translate-y-1/2 text-primary text-xl ml-3"},null,-1))]),o("div",{class:"cursor w-full h-44 lh-44 rounded-5 text-center text-xl text-white bg-hover active:opacity-90",onClick:y},"登录")])]))}},[["__file","D:/MyWork/blog-vue3/src/views/login/index.vue"]]);export{m as default};
