import{u as P,a as w,r as s,h as n,o as m,c as B,b as p,g as k,t as v,e as _,i as d,k as b,j as f,y as T,m as q}from"./vendor.6812e6c6.js";import{_ as A,u as D}from"./index.06be2f1d.js";const J={key:0,class:"content"},O={class:"content-title"},$={class:"list-box","data-aos":"fade-up"},z={setup(E){let{proxy:c}=q(),S=D(),g=P(),h=w(),e=s({page:1,per_page:12}),y=s(localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")).open_issues:""),o=s(),i=s(),r=s();localStorage.getItem("currentPage")&&(e.value.page=Number(localStorage.getItem("currentPage"))),g.query.name?(i.value="Tag",o.value=g.query.name,e.value.labels=g.query.name):(i.value="Category",e.value.milestone=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")).number:"",o.value=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")).title:""),document.title=o.value,localStorage.setItem("docTitle",o.value),I();async function I(){c.$blogApi.resolve("getArticle",e.value).then(a=>{console.log("\u5206\u7C7B\u8BE6\u60C5\u5217\u8868",a),a!=null&&a.length?(a.forEach(t=>{t.created_at=c.$format(t.created_at,"zh_CN").replace(/\s/,"");const u=Math.floor(Math.random()*S.themeColors.length);t.color=S.themeColors[u]}),r.value=a):(c.$toast("\u5F53\u524D\u76EE\u5F55\u4E0B\u6CA1\u6709\u6587\u7AE0"),setTimeout(()=>{h.back()},1e3))})}let x=()=>{localStorage.removeItem("categories"),h.back()},N=()=>{console.log("-",e.value.page),localStorage.setItem("currentPage",e.value.page),r.value=null,I()};return(a,t)=>{const u=n("List"),C=n("van-icon"),V=n("van-pagination"),L=n("Loading");return r.value?(m(),B("div",J,[p("div",O,[k(v(i.value)+"\uFF1A ",1),p("span",{class:"cursor",onClick:t[0]||(t[0]=(...l)=>_(x)&&_(x)(...l))},v(o.value),1)]),p("div",$,[d(u,{list:r.value},null,8,["list"])]),y.value>12?(m(),b(V,{key:0,class:"pagination",modelValue:e.value.page,"onUpdate:modelValue":t[1]||(t[1]=l=>e.value.page=l),"total-items":y.value,"show-page-size":5,"items-per-page":"12",onChange:_(N)},{"prev-text":f(()=>[d(C,{name:"arrow-left"})]),"next-text":f(()=>[d(C,{name:"arrow"})]),page:f(({text:l})=>[k(v(l),1)]),_:1},8,["modelValue","total-items","onChange"])):T("",!0)])):(m(),b(L,{key:1}))}}};var j=A(z,[["__scopeId","data-v-dbc3c342"]]);export{j as default};
