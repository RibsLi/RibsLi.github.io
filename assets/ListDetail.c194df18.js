import{u as w,a as B,r as l,h as n,o as p,c as q,b as m,g as I,t as _,e as v,i as d,k as N,j as f,y as A,m as D}from"./vendor.87e019c6.js";import{_ as J,u as O}from"./index.6215c9b7.js";const T={key:0,class:"content"},$={class:"content-title"},z={class:"list-box","data-aos":"fade-up"},E={setup(M){let{proxy:r}=D(),h=O(),c=w(),y=B(),a=l({page:1,per_page:12}),x=l(localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")).open_issues:""),i=l(),g=l(),s=l();c.query.name?(g.value="Tag",i.value=c.query.name,a.value.labels=c.query.name):(g.value="Category",a.value.milestone=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")).number:"",i.value=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")).title:""),C();async function C(){r.$blogApi.resolve("getArticle",a.value).then(t=>{console.log("\u5206\u7C7B\u8BE6\u60C5\u5217\u8868",t),t!=null&&t.length?(t.forEach(e=>{e.created_at=r.$format(e.created_at,"zh_CN").replace(/\s/,"");const u=Math.floor(Math.random()*h.themeColors.length);e.color=h.themeColors[u]}),s.value=t):(r.$toast("\u5F53\u524D\u76EE\u5F55\u4E0B\u6CA1\u6709\u6587\u7AE0"),setTimeout(()=>{y.back()},1e3))})}let S=()=>{localStorage.removeItem("categories"),y.back()},b=()=>{console.log("-",a.value.page),s.value=null,C()};return(t,e)=>{const u=n("List"),k=n("van-icon"),V=n("van-pagination"),L=n("Loading");return s.value?(p(),q("div",T,[m("div",$,[I(_(g.value)+"\uFF1A ",1),m("span",{class:"cursor",onClick:e[0]||(e[0]=(...o)=>v(S)&&v(S)(...o))},_(i.value),1)]),m("div",z,[d(u,{list:s.value},null,8,["list"])]),x.value>12?(p(),N(V,{key:0,class:"pagination",modelValue:a.value.page,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.page=o),"total-items":x.value,"show-page-size":5,"items-per-page":"12",onChange:v(b)},{"prev-text":f(()=>[d(k,{name:"arrow-left"})]),"next-text":f(()=>[d(k,{name:"arrow"})]),page:f(({text:o})=>[I(_(o),1)]),_:1},8,["modelValue","total-items","onChange"])):A("",!0)])):(p(),N(L,{key:1}))}}};var j=J(E,[["__scopeId","data-v-994e6268"]]);export{j as default};
