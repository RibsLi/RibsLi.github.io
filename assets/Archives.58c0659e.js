import{_ as V,u as A}from"./index.bfe12c2b.js";import{q as b}from"./query.1d09213f.js";import{r as v,j as u,o as n,c as g,F as B,f as L,b as N,t as y,B as w,k as d,q as C,l as m,g as q,e as z,C as P,W as S}from"./vendor.895be795.js";const E={key:0,class:"content"},F={setup(M){let{proxy:h}=S(),p=A(),s=v({state:"open",page:1,per_page:12}),_=v(),a=v([]);f();async function f(){h.$blogApi.resolve("getArticle",s.value).then(t=>{console.log("\u5F52\u6863\u5217\u8868",t),t!=null&&t.length&&t.forEach(o=>{const r=o.created_at.split("-"),l=r[0]+"\u5E74"+r[1]+"\u6708";let c=!1;o.created_at=h.$format(o.created_at,"zh_CN").replace(/\s/,"");const i=Math.floor(Math.random()*p.themeColors.length);if(o.color=p.themeColors[i],!a.value)a.value=[{ym:l,data:[o]}];else{for(let e=0;e<a.value.length;e++)if(l===a.value[e].ym){c=!0,a.value[e].data.push(o),a.value[e].color=p.themeColors[i];break}c||a.value.push({ym:l,data:[o]})}console.log(a.value)})})}b().then(t=>{console.log("\u6587\u7AE0\u603B\u6570",t),_.value=t==null?void 0:t.repository.issues.totalCount});let x=()=>{console.log("-",s.value.page),a.value=[],f()};return(t,o)=>{const r=u("List"),l=u("van-icon"),c=u("van-pagination"),i=u("Loading");return a.value?(n(),g("div",E,[(n(!0),g(B,null,L(a.value,(e,k)=>(n(),g("div",{class:"list","data-aos":"fade-up",key:k},[N("div",{class:"timeline",style:w({backgroundColor:e.color})},y(e.ym),5),d(r,{list:e.data},null,8,["list"])]))),128)),_.value>12?(n(),C(c,{key:0,class:"pagination",modelValue:s.value.page,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value.page=e),"total-items":_.value,"show-page-size":5,"items-per-page":"12",onChange:z(x)},{"prev-text":m(()=>[d(l,{name:"arrow-left"})]),"next-text":m(()=>[d(l,{name:"arrow"})]),page:m(({text:e})=>[q(y(e),1)]),_:1},8,["modelValue","total-items","onChange"])):P("",!0)])):(n(),C(i,{key:1}))}}};var T=V(F,[["__scopeId","data-v-64ad3b36"]]);export{T as default};
