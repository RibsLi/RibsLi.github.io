import{_ as e,u as a}from"./index.5afa1066.js";import{r as l,w as t,x as o,f as s,o as r,c as n,b as c,q as u,l as v,z as d,A as h}from"./vendor.1b44fe95.js";const i={key:0,class:"content-box"},p={class:"search-box"},m={key:0,class:"content"};var g=e({setup(e){const{proxy:g}=h(),f=a(),b=l({state:"open",page:1,per_page:"all"});let x=l(),_=l([]);const y=l();let C=l();t((()=>y.value),(e=>{e&&(clearTimeout(C.value),C.value=setTimeout((()=>{k()}),500))})),g.$blogApi.resolve("getArticle",b.value).then((e=>{(null==e?void 0:e.length)&&(e.forEach((e=>{e.created_at=g.$format(e.created_at,"zh_CN").replace(/\s/,"");const a=Math.floor(Math.random()*f.themeColors.length);e.color=f.themeColors[a]})),x.value=e)}));const k=()=>{y.value?async function(e){_.value=[],x.value.forEach((a=>{-1!==a.title.indexOf(e)&&_.value.push(a)})),_.value.length||g.$toast("没有搜索到相关内容")}(y.value):g.$toast("请输入搜索内容")},$=()=>_.value=[];return(e,a)=>{const l=o("van-search"),t=o("CompList"),h=o("Loading");return s(x)?(r(),n("div",i,[c("div",p,[u(l,{class:"search",modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),placeholder:"请输入搜索内容",shape:"round",background:"rgba(255, 255, 255, 0)","clear-trigger":"always",onSearch:k,onClear:$},null,8,["modelValue"])]),s(_).length?(r(),n("div",m,[u(t,{list:s(_)},null,8,["list"])])):v("",!0)])):(r(),d(h,{key:1}))}}},[["__scopeId","data-v-c0745cb4"]]);export{g as default};
