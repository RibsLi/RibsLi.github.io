import{a as e,a1 as t,o as a,c as r,b as s,G as l,a2 as o,e as c,M as d,y as n}from"./vendor.61ae407d.js";import{u}from"./index.ea33c92d.js";const f={class:"relative w-full h-full"},i=s("div",{class:"w-full h-100vh select-none backdrop-blur"},null,-1),p={class:"w-50% max-w-500 min-w-300 h-300 p-15 absolute top-50% left-50% transform -translate-x-1/2 -translate-y-1/2 bg-white/10 rounded-5 backdrop-blur-1 select-none flex flex-col justify-around items-center border border-#f5f5f5"},b={class:"relative w-full"},m=s("i",{class:"fa fa-user-circle-o absolute top-50% left-15 -translate-y-1/2 text-primary text-xl"},null,-1),x={class:"relative w-full"},h=s("i",{class:"fa fa-lock absolute top-50% left-15 -translate-y-1/2 text-primary text-xl ml-3"},null,-1),w={setup(w){const y=e(),v=u(),{proxy:g}=n(),k=t({username:"",password:"",client_id:"23fb3017d7d26ef265a38e77d828a696bc9f2e04c14eecc2936f9e1916e6c9d5",client_secret:"c514c08a08f1c67c0b289781ec39db539ff40baf7c923a7121d11a2a56b47665",scope:"issues",grant_type:"password"}),_=()=>{if(!k.username)return g.$toast("请输入账号");if(!k.password)return g.$toast("请输入密码");try{d.post("https://gitee.com/oauth/token",k).then((e=>{const{access_token:t=""}=(null==e?void 0:e.data)||{};t&&(localStorage.setItem("access_token",t),v.setAccessToken(t),y.replace("/home"))})).catch((()=>g.$toast("登录失败")))}catch(e){}};return(e,t)=>(a(),r("div",f,[i,s("div",p,[s("div",b,[l(s("input",{class:"border border-#f5f5f5 border-solid rounded-5 w-full h-50 lh-50 text-lg px-45 cursor text-primary focus:border-primary","onUpdate:modelValue":t[0]||(t[0]=e=>c(k).username=e),required:"",type:"text",placeholder:"账号",maxlength:"17"},null,512),[[o,c(k).username]]),m]),s("div",x,[l(s("input",{class:"border border-#f5f5f5 border-solid rounded-5 w-full h-50 lh-50 text-lg px-45 cursor text-primary focus:border-primary","onUpdate:modelValue":t[1]||(t[1]=e=>c(k).password=e),required:"",type:"password",placeholder:"密码",maxlength:"17"},null,512),[[o,c(k).password]]),h]),s("div",{class:"cursor w-full h-44 lh-44 rounded-5 text-center text-xl text-white bg-hover active:opacity-90",onClick:_},"登录")])]))}};export{w as default};
