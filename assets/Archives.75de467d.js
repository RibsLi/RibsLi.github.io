import{_ as V,u as A}from"./index.efcdf705.js";import{q as b}from"./query.935d5c6f.js";import{r as v,h as u,o as n,c as g,F as L,f as N,b as w,t as y,l as B,i as d,k as C,j as m,g as z,e as P,y as S,m as q}from"./vendor.62775ade.js";const E={key:0,class:"content"},F={setup(M){let{proxy:h}=q(),p=A(),s=v({state:"open",page:1,per_page:12}),_=v(),a=v([]);f();async function f(){h.$blogApi.resolve("getArticle",s.value).then(t=>{console.log("\u5F52\u6863\u5217\u8868",t),t!=null&&t.length&&t.forEach(o=>{const r=o.created_at.split("-"),l=r[0]+"\u5E74"+r[1]+"\u6708";let c=!1;o.created_at=h.$format(o.created_at,"zh_CN").replace(/\s/,"");const i=Math.floor(Math.random()*p.themeColors.length);if(o.color=p.themeColors[i],!a.value)a.value=[{ym:l,data:[o]}];else{for(let e=0;e<a.value.length;e++)if(l===a.value[e].ym){c=!0,a.value[e].data.push(o),a.value[e].color=p.themeColors[i];break}c||a.value.push({ym:l,data:[o]})}console.log(a.value)})})}b().then(t=>{console.log("\u6587\u7AE0\u603B\u6570",t),_.value=t==null?void 0:t.repository.issues.totalCount});let x=()=>{console.log("-",s.value.page),a.value=[],f()};return(t,o)=>{const r=u("List"),l=u("van-icon"),c=u("van-pagination"),i=u("Loading");return a.value?(n(),g("div",E,[(n(!0),g(L,null,N(a.value,(e,k)=>(n(),g("div",{class:"list","data-aos":"fade-up",key:k},[w("div",{class:"timeline",style:B({backgroundColor:e.color})},y(e.ym),5),d(r,{list:e.data},null,8,["list"])]))),128)),_.value>12?(n(),C(c,{key:0,class:"pagination",modelValue:s.value.page,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value.page=e),"total-items":_.value,"show-page-size":5,"items-per-page":"12",onChange:P(x)},{"prev-text":m(()=>[d(l,{name:"arrow-left"})]),"next-text":m(()=>[d(l,{name:"arrow"})]),page:m(({text:e})=>[z(y(e),1)]),_:1},8,["modelValue","total-items","onChange"])):S("",!0)])):(n(),C(i,{key:1}))}}};var T=V(F,[["__scopeId","data-v-b89cca1a"]]);export{T as default};
